<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Resultado - ODS 13</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .result-box {
      max-width: 600px;
      margin: 80px auto;
      background: #ffffffcc;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      text-align: center;
      backdrop-filter: blur(8px);
    }
    .score {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 10px;
    }
    .level {
      font-size: 22px;
      margin-bottom: 15px;
    }
    .message {
      font-size: 18px;
      line-height: 1.5;
    }


  </style>
</head>
<body data-page="resultado">
  <div class="wrapper">
    <div class="side-image">
      <img src="assets/resultado.png" alt="Resultado Sustent√°vel">
    </div>

    <div class="result-box">
      <h2>Seu Resultado üåç</h2>
      <div id="result-content">
        <p class="score"></p>
        <p class="level"></p>
        <p class="message"></p>
      </div><br>
      <a href="index.html" class="btn" onclick="resetPage()">Voltar ao in√≠cio</a>
    </div>
  </div>

    <script>
        // üîπ L√™ todos os dados salvos por p√°gina
        const data = JSON.parse(localStorage.getItem("sustentabilidade_por_pagina")) || {};
        
        // üîπ Une todos os valores num√©ricos num s√≥ array
        const answers = Object.values(data).flat().map(v => parseInt(v)).filter(v => !isNaN(v));

        let total = 0;
        answers.forEach(v => total += v);

        // üîπ Determina o m√°ximo de pontos poss√≠veis
        const max = answers.length * 4; // considerando que o maior valor √© 4
        const percent = max > 0 ? Math.round((total / max) * 100) : 0;

        // üîπ Define o n√≠vel e a mensagem
        let nivel = "";
        let msg = "";

        if (percent <= 40) {
            nivel = "üåæ Iniciante Verde";
            msg = "Voc√™ est√° come√ßando sua jornada sustent√°vel! Pequenas mudan√ßas far√£o uma grande diferen√ßa.";
        } else if (percent <= 70) {
            nivel = "üåø Consciente Ambiental";
            msg = "Voc√™ j√° demonstra bons h√°bitos e preocupa√ß√£o com o meio ambiente. Continue evoluindo!";
        } else if (percent <= 90) {
            nivel = "üå≥ Guardi√£o do Planeta";
            msg = "Excelente! Suas a√ß√µes sustent√°veis s√£o exemplo para outras pessoas.";
        } else {
            nivel = "üåé Her√≥i da Terra";
            msg = "Uau! Voc√™ vive de forma totalmente alinhada √† sustentabilidade. Continue inspirando o mundo!";
        }

        // üîπ Atualiza a interface
        document.querySelector(".score").textContent = `Pontua√ß√£o: ${percent}%`;
        document.querySelector(".level").textContent = `N√≠vel: ${nivel}`;
        document.querySelector(".message").textContent = msg;

        console.log("Total:", total, "Max:", max, "Percent:", percent, "Answers:", answers);
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
        console.log("P√°gina:", window.location.pathname);
        console.log("P√°gina atual:", localStorage.getItem("actualPage"));
        console.log("Respostas atuais:", JSON.parse(localStorage.getItem("sustentabilidadeRespostas")));
        });
    </script>
</body>
</html>
